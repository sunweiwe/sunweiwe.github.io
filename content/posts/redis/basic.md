---
date: 2023-11-15T22:38:31+08:00
slug: /redis/basic
tags:
  - Redis
title: basic
draft: false
summary: redis基本数据类型和用法
---
## 字符串

- 缓存功能
- 计算器
- 统计多单位的数量
- 共享用户session

```shell
SET key value [EX seconds|PX milliseconds|EXAT timestamp|PXAT milliseconds-timestamp|KEEPTTL] [NX|XX] [GET]

```

## List(列表)

- list类型是用来存储多个有序的字符串的，列表当中的每一个字符看做一个元素
- 一个列表当中可以存储有一个或者多个元素，redis的list支持存储2^32次方-1个元素。
- redis可以从列表的两端进行插入（pubsh）和弹出（pop）元素，支持读取指定范围的元素集，或者读取指定下标的元素等操作。redis列表是一种比较灵活的链表数据结构，它可以充当队列或者栈的角色。
- redis列表是链表型的数据结构，所以它的元素是有序的，而且列表内的元素是可以重复的。意味着它可以根据链表的下标获取指定的元素和某个范围内的元素集。


### 使用场景
1. 消息队列：reids的链表结构，可以轻松实现阻塞队列，可以使用左进右出的命令组成来完成队列的设计。比如：数据的生产者可以通过Lpush命令从左边插入数据，多个数据消费者，可以使用BRpop命令阻塞的“抢”列表尾部的数据。

2. 文章列表或者数据分页展示的应用。比如，我们常用的博客网站的文章列表，当用户量越来越多时，而且每一个用户都有自己的文章列表，而且当文章多时，都需要分页展示，这时可以考虑使用redis的列表，列表不但有序同时还支持按照范围内获取元素，可以完美解决分页查询功能。大大提高查询效率。


## Set(集合)
- redis集合（set）类型和list列表类型类似，都可以用来存储多个字符串元素的集合。
- 但是和list不同的是set集合当中不允许重复的元素。而且set集合当中元素是没有顺序的，不存在元素下标。
- redis的set类型是使用哈希表构造的，因此复杂度是O(1)，它支持集合内的增删改查，
  并且支持多个集合间的交集、并集、差集操作。可以利用这些集合操作，解决程序开发过程当中很多数据集合间的问题。

### 使用场景
- 标签：比如我们博客网站常常使用到的兴趣标签，把一个个有着相同爱好，关注类似内容的用户利用一个标签把他们进行归并。

- 共同好友功能。

- 统计网站的独立IP

## sorted set（有序集合）

> redis有序集合也是集合类型的一部分，所以它保留了集合中元素不能重复的特性，但是不同的是，有序集合给每个元素多设置了一个分数。

### 应用场景
- 排行榜：有序集合经典使用场景。例如视频网站需要对用户上传的视频做排行榜，榜单维护可能是多方面：按照时间、按照播放量、按照获得的赞数等。
- 用Sorted Sets来做带权重的队列，比如普通消息的score为1，重要消息的score为2，然后工作线程可以选择按score的倒序来获取工作任务。让重要的任务优先执行。


## 5 hash（哈希）

- 存储用户相关信息。优化用户信息的获取，不需要重复从数据库当中读取，提高系统性能。

## Bitmaps（位存储）


## 持久化

- 快照（RDB文件）RDB持久化方式会在一个特定的间隔保存那个时间点的数据快照。

- 追加式文件（AOF文件）AOF持久化方式则会记录每一个服务器收到的写操作。在服务启动时，这些记录的操作会逐条执行从而重建出原来的数据。写操作命令记录的格式跟Redis协议一致，以追加的方式进行保存。


